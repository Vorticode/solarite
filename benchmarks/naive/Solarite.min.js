// Version 2025.7.15.1918
// License: MIT
// http://vorticode.github.io/solarite
var Util$1={t(...t){var e=!1;let l=async(...t)=>{let s=[];if(!e)for(let e=0;l.length>e;e++)s.push(l[e](...t));return await Promise.all(s)};l[Symbol.iterator]=()=>{let t=0;return{next(){return l.length>t?{value:l[t++],done:!1}:{done:!0}}}};for(let t of Object.getOwnPropertyNames(Array.prototype))"length"!==t&&"constructor"!==t&&(l[t]=Array.prototype[t]);l.l=0,Object.defineProperty(l,"length",{get:()=>l.l,set(t){l.l=t}}),l.remove=t=>{let e=l.findIndex((e=>e===t));-1!==e&&l.splice(e,1)},l.pause=()=>e=!0,l.resume=()=>e=!1;for(let e of t)l.push(e);return l},i(t,e,l){let s=t.get(e);s?s.push(l):(s=[l],t.set(e,s))}},Globals;function reset(){Globals={o:new WeakMap,connected:new WeakSet,h:null,div:document.createElement("div"),u:{},p:{},m:new WeakMap,v:new WeakMap,$:new WeakMap,P:new WeakSet,N:new WeakSet,T:new WeakMap,reset,count:0}}reset();var Globals$1=Globals;function delve(t,e,l=d){let s=l!==d,i=e.length;if(!t&&!s&&i)return;let r=0;for(let o of e){if(void 0===t[o]){if(!s)return;i-1>r&&(t[o]=(e[r+1]+"").match(/^\d+$/)?[]:{})}s&&r===i-1&&(t[o]=l),t=t[o],r++}return t}let d={},Util={G(t,e){let l=e.getAttribute("data-id")||e.getAttribute("id");if(l){if(t[l]&&!(t[l]instanceof Node))throw Error(`${t.constructor.name}.${l} already has a value.  Can't set it as a reference to <${e.tagName.toLowerCase()} id="${l}">`);delve(t,l.split(/\./g),e)}},A(t,e){let l=e.getAttribute("data-style");l||(e.constructor.S||(e.constructor.S=1),l=e.constructor.S++,e.setAttribute("data-style",l));let s=e.tagName.toLowerCase();for(let e of t.childNodes)if(3===e.nodeType){let t=e.textContent,i=t.replace(/:host(?=[^a-z0-9_])/gi,`${s}[data-style="${l}"]`);t!==i&&(e.textContent=i)}},O:t=>(t=(t=(t=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2")).replace(/([A-Z])([A-Z][a-z])/g,"$1-$2")).replace(/([a-zA-Z])([0-9])/g,"$1-$2")).toLowerCase(),H:t=>t.replace(/-([a-z])/g,(t=>t[1].toUpperCase())),*C(t){if(Array.isArray(t))for(const e of t)yield*Util.C(e);else if("function"==typeof t){const e=t();yield*Util.C(e)}else yield t},k:t=>"checkbox"===t.type||"radio"===t.type?t.checked:"file"===t.type?[...t.files]:"number"===t.type||"range"===t.type?t.valueAsNumber:"date"===t.type||"time"===t.type||"datetime-local"===t.type?t.valueAsDate:"select-multiple"===t.type?[...t.selectedOptions].map((t=>t.value)):t.value,U(t,e){let l=t.tagName+"."+e,s=Globals$1.p[l];if(void 0===s){let i=Object.getPrototypeOf(t);for(;i;){const t=i.constructor.name;if(t.startsWith("HTML")&&t.endsWith("Element"))break;i=Object.getPrototypeOf(i)}Globals$1.p[l]=s=!!i&&!!Object.getOwnPropertyDescriptor(i,e)?.set}return s},M:t=>Array.isArray(t)&&t.length>=2&&("object"==typeof t[0]||void 0===t[0])&&!t.slice(1).find((t=>"string"!=typeof t&&"number"!=typeof t)),j:t=>void 0===t||!1===t||null===t,I:t=>"string"==typeof t||"number"==typeof t,R:t=>"function"==typeof t?Util.R(t()):t instanceof Date?t.toISOString().replace(/T/," "):Array.isArray(t)||"object"==typeof t?"":t,F(t){const e=t=>t.nodeType!==Node.ELEMENT_NODE&&(t.nodeType!==Node.TEXT_NODE||""===t.textContent.trim()),l=[...t];for(;l.length>0&&e(l[0]);)l.shift();for(;l.length>0&&e(l[l.length-1]);)l.pop();return l}},isEvent=t=>t.startsWith("on")&&t in Globals$1.div;function arraySame(t,e){let l=t.length;if(l!==e.length)return!1;for(let s=0;l>s;s++)if(t[s]!==e[s])return!1;return!0}function defineClass(t,e,l){if(!customElements[getName](t)){(e=e||Util.O(t.name)).includes("-")||(e+="-element");let s=null;l&&(s={V:l}),customElements[define](e,t,s)}}function createSolarite(t=null){let e=HTMLElement;t&&!t.includes("-")&&(t=t.toLowerCase(),e=Globals$1.u[t],e||(e=document.createElement(t).constructor,Globals$1.u[t]=e));let l=new Proxy(e,{construct:(e,l,s)=>(defineClass(s,null,t),Reflect.construct(e,l,s))});return class extends l{J=Util$1.t();L=Util$1.t();W=Util$1.t();constructor(t={}){super(),!0===t.D?this.D():!1===t.D&&Globals$1.P.add(this)}_(){!Globals$1.P.has(this)&&this.D&&this.D()}B(){this._(),Globals$1.connected.has(this)||(Globals$1.connected.add(this),this.L()),this.J()}K(){this.W()}static define(e=null){defineClass(this,e,t)}}}let define="define",getName="getName",lastObjectId=1,objectIds=new WeakMap;function getObjectId(t){let e=objectIds.get(t);return e||(e="~\f"+lastObjectId++,objectIds.set(t,e)),e}let isHashing=!0;function toJSON(){return isHashing?getObjectId(this):this}function getObjectHash(t){let e;Node.prototype.toJSON!==toJSON&&(Node.prototype.toJSON=toJSON,(()=>{}).toJSON!==toJSON&&(Function.prototype.toJSON=toJSON)),isHashing=!0;try{e=JSON.stringify(t)}catch(l){e=getObjectHashCircular(t)}return isHashing=!1,e}function getObjectHashCircular(t){const e=new Set;return JSON.stringify(t,((t,l)=>{if("object"==typeof l&&null!==l){if(e.has(l))return getObjectId(l);e.add(l)}return l}))}class MultiValueMap{data={};add(t,e){let l=this.data,s=l[t];s||(s=new Set,l[t]=s),s.add(e)}Z(){for(let t in this.data)return!0;return!1}getAll(t){return this.data[t]||[]}delete(t,e=void 0){let l,s=this.data,i=s[t];if(i)return void 0===e?([l]=i,i.delete(l)):(i.delete(e),l=e),0===i.size&&delete s[t],l}q(t){let e,l=this.data,s=l[t];if(s)return[e]=s,s.delete(e),0===s.size&&delete l[t],e}X(t,e){let l,s=this.data,i=s[t];if(i)return i.delete(e),l=e,0===i.size&&delete s[t],l}Y(t,e){let l,s=this.data,i=s[t];if(i){for(let t of i)if(t?.parentNode===e){i.delete(t),l=t;break}return l||([l]=i,i.delete(l)),0===i.size&&delete s[t],l}}tt(t){let e=this.data,l=[];for(let s in e)e[s].has(t)&&l.push(s);return l}}const udomdiff=(t,e,l,s)=>{const i=l.length;let r=e.length,o=i,a=0,n=0,h=null;for(;r>a||o>n;)if(r===a){const e=i>o?n?l[n-1].nextSibling:l[o-n]:s;for(;o>n;){let s=l[n++];t.insertBefore(s,e)}}else if(o===n)for(;r>a;){let l=e[a];h&&h.has(l)||t.removeChild(l),a++}else if(e[a]===l[n])a++,n++;else if(e[r-1]===l[o-1])r--,o--;else if(e[a]===l[o-1]&&l[n]===e[r-1]){const s=e[--r].nextSibling;let i=l[n++],h=e[a++];t.insertBefore(i,h.nextSibling);let f=l[--o];t.insertBefore(f,s),e[r]=l[o]}else{if(!h){h=new Map;let t=n;for(;o>t;)h.set(l[t],t++)}if(h.has(e[a])){const s=h.get(e[a]);if(s>n&&o>s){let i=a,f=1;for(;++i<r&&o>i&&h.get(e[i])===s+f;)f++;if(f>s-n){const i=e[a];for(;s>n;){let e=l[n++];t.insertBefore(e,i)}}else{let s=e[a++],i=l[n++];t.replaceChild(i,s)}}else a++}else{let l=e[a++];t.removeChild(l)}}return l};class ExprPath{type;attrName;et;lt;st;it;rt;v=[];ot;nt;ht;ft;ut;ct=void 0;constructor(t,e,l=ExprPathType.dt,s=null,i=null){this.st=t,this.it=e,this.type=l,this.attrName=s,this.et=i,l===ExprPathType.bt&&(this.lt=new Set)}apply(t,e=!0){switch(this.type){case 1:this.yt(t[0],e);break;case 2:this.gt(this.it,t[0]);break;case 5:break;case 6:this.vt(this.it,t[0],this.rt.$t.root);break;default:this.Et(this.it,t)}}yt(t,e=!0){let l=this;e&&l.Pt();let s=[],i=l.v,r=[];l.v=[],l.Nt(t,s,r);let o=!1;if(r.length){for(let[t,e]of r){let i=l.Tt(s[t],!1),r=i.Gt();1===r.length?s[t]=r[0]:(s[t]=r,o=!0),l.v[e]=i}o&&(s=s.flat())}let a=l.Gt();if(!arraySame(a,s)){l.ot=s,this.rt.wt&&this.rt.wt.xt(),a.length&&!s.length&&l.At()||udomdiff(l.it.parentNode,a,s,l.it);for(let t of i)t.St.parentNode||t.Ot()}}Ht(t){let e=Math.min(t.Ct,t.items.length),l=t.Ct-e;for(let l=0;e>l;l++){let e=this.v[t.index+l],s=(this.ut||this.ft)(t.items[l]);this.kt(s,(s=>{let i=this.Tt(s,!0);if(i&&i===e);else{i||(i=this.Tt(s,!1)),this.v[t.index+l]=i;let r=e.St;for(let t of i.Gt())r.parentNode.insertBefore(t,r);i!==e&&e.Ot()}}))}if(l>0){for(let s=0;l>s;s++)this.v[t.index+e+s].Ot();this.v.splice(t.index+e,l)}else{let l=t.items.slice(e),s=this.v[t.index+e]?.St||this.it;for(let t=0;l.length>t;t++){let e=this.ut(l[t]),i=this.Tt(e,!0);i||(i=this.Tt(e,!1)),this.v.push(i);for(let t of i.Gt())s.parentNode.insertBefore(t,s)}}this.ot=null}kt(t,e){if(Array.isArray(t))for(let l of t)this.kt(l,e);else if("function"==typeof t)Globals$1.h=this,this.ft=t,t=t(),Globals$1.h=null,this.kt(t,e);else if(t instanceof Template||t instanceof Node)e(t);else{void 0===t||!1===t||null===t?t="":"string"!=typeof t&&(t+="");let l=new Template([t],[]);this.kt(l,e)}}Nt(t,e,l){if(t instanceof Template){let s=this.Tt(t,!0);s?(e.push(...s.Gt()),this.v.push(s)):(l.push([e.length,this.v.length]),e.push(t),this.v.push(null))}else t instanceof Node?t instanceof DocumentFragment?e.push(...t.childNodes):e.push(t):this.kt(t,(t=>{this.Nt(t,e,l)}))}gt(t,e){Array.isArray(e)&&(e=e.flat().join(" "));let l=this.lt;if(this.lt=new Set,e){"function"==typeof e&&(Globals$1.h=this,this.ft=e,e=e(),Globals$1.h=null);let l=(e+"").split(/([\w-]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s]+))/g).map((t=>t.trim())).filter((t=>t.length));for(let e of l){let[l,s]=e.split(/\s*=\s*/);s=(s||"").replace(/^(['"])(.*)\1$/,"$2"),t.setAttribute(l,s),this.lt.add(l)}}for(let e of l)this.lt.has(e)||t.removeAttribute(e)}vt(t,e,l){let s,i=this.attrName.slice(2),r=[];if(Array.isArray(e)&&"function"==typeof e[0])s=e[0],r=e.slice(1);else{if("function"!=typeof e)throw Error(`Invalid event binding: <${t.tagName.toLowerCase()} ${this.attrName}=\${${JSON.stringify(e)}}>`);s=e}this.Ut(t,l,i,i,s,r)}Ut(t,e,l,s,i,r,o=!1){let a=Globals$1.m.get(t);a||(a={[l]:[,,,]},Globals$1.m.set(t,a));let n=a[l];if(n||(a[l]=n=[,,,]),"function"!=typeof i)throw Error(`Solarite cannot bind to <${t.tagName.toLowerCase()} ${this.attrName}=\${${i}}> because it's not a function.`);if(n[0]!==i){let[l,r,a]=n;l&&t.removeEventListener(s,r,o);let h=i,f=l=>h.call(e,...n[2],l,t);n[0]=h,n[1]=f,t.addEventListener(s,f,o)}a[l][2]=r}Et(t,e){let l=e[0];if(Util.M(l)){let[e,s]=[l[0],l.slice(1)];if(!e)throw Error(`Solarite cannot bind to <${t.tagName.toLowerCase()} ${this.attrName}=\${[${l.map((t=>t?`'${t}'`:t+"")).join(", ")}]}>.`);let i=delve(e,s);if("value"===this.attrName&&"select-multiple"===t.type&&Array.isArray(i)){let e=i.map((t=>t+""));for(let l of t.options)l.selected=e.includes(l.value)}else{let e=Util.j(i)?"":i;e!==t[this.attrName]&&(t[this.attrName]=e)}let r=()=>{let l="value"===this.attrName?Util.k(t):t[this.attrName];delve(e,s,l)};this.Ut(t,s[0],this.attrName,"input",r,[],!0)}else{let s=this.ct;void 0===s&&(s=this.ct=Util.U(t,this.attrName));let i=this.et;if(!i){if(Globals$1.h=this,"function"==typeof l){if(4===this.type)return;this.ft=l,l=l()}else l=Util.R(l);Globals$1.h=null}if(i||void 0!==l&&!1!==l&&null!==l)if(i||!0!==l){let r;if(i){let t=[];for(let l=0;this.et.length>l;l++)if(t.push(this.et[l]),this.et.length-1>l){Globals$1.h=this;let s=Util.R(e[l]);Globals$1.h=null,Util.j(s)||t.push(s)}r=t.join("")}else r=l;(s?t[this.attrName]:t.getAttribute(this.attrName))!==r&&(s&&(t[this.attrName]=r),t.setAttribute(this.attrName,r))}else s&&(t[this.attrName]=!0),t.setAttribute(this.attrName,"");else s&&(t[this.attrName]=!1),t.removeAttribute(this.attrName)}}clone(t,e=0){let l,s,i=t,r=e?this.ht.slice(0,-e):this.ht;for(let t=r.length-1;t>0;t--)i=i.childNodes[r[t]];let o=i.childNodes;return l=r.length?o[r[0]]:t,this.st&&(s=o[this.nt]),new ExprPath(s,l,this.type,this.attrName,this.et)}xt(){let t=this,e=this.it.parentNode;for(;t&&t.it.parentNode===e;)t.ot=null,t=t.rt?.wt}At(){let t=this.st.parentNode;return this.st===t.firstChild&&this.it===t.lastChild&&(t.innerHTML="",t.append(this.st,this.it),!0)}Gt(){if(this.type===ExprPathType.Mt||this.type===ExprPathType.bt||this.type===ExprPathType.jt)return[this.it];let t;if(t=this.ot,t)return t;t=[];let e=this.st.nextSibling,l=this.it;for(;e&&e!==l;)t.push(e),e=e.nextSibling;return this.ot=t,t}It(){return this.it.parentNode}Tt(t,e=!0){let l,s=this.Rt;if(e){if(l=s.q(t.Ft()),l||(s=this.Vt,l=s.q(t.Ft())),!l)return null;s.X(t.Jt(),l)}else t.Lt.length&&(l=s.q(t.Jt()),l||(s=this.Vt,l=s.q(t.Jt())),l&&(s.X(l.Wt,l),l.zt(t.Lt),l.Wt=t.Ft()));return l||(l=new NodeGroup(t,this)),this.Dt.push(l),l}_t(){return this.type===ExprPathType.jt||this.attrName&&this.it.tagName&&this.it.tagName.includes("-")}Dt=[];Rt=new MultiValueMap;Vt=new MultiValueMap;Pt(){let t=this.Rt.data,e=this.Vt.data;for(let l in t){let s=e[l];if(s)for(let e of t[l])s.add(e);else e[l]=t[l]}this.Rt=new MultiValueMap;let l=this.Rt;for(let t of this.Dt)l.add(t.Wt,t),l.add(t.Bt,t);this.Dt=[]}}const ExprPathType={dt:1,bt:2,Mt:3,jt:4,Comment:5,Event:6};function getNodePath(t){let e=[];for(;;){let l=t.parentNode;if(!l)break;e.push([].indexOf.call(t.parentNode.childNodes,t)),t=l}return e}function resolveNodePath(t,e){for(let l=e.length-1;l>=0;l--)t=t.childNodes[e[l]];return t}class HtmlParser{constructor(){this.Kt={context:HtmlParser.Text,quote:null,buffer:"",Zt:null},this.state={...this.Kt}}reset(){return this.state={...this.Kt},this.state.context}parse(t,e=null){if(null===t)return this.reset();for(let l=0;t.length>l;l++){const s=t[l];switch(this.state.context){case HtmlParser.Text:"<"===s&&t[l+1].match(/[/a-z!]/i)&&(e?.(t,l,this.state.context,HtmlParser.qt),this.state.context=HtmlParser.qt,this.state.buffer="");break;case HtmlParser.qt:if(">"===s)e?.(t,l+1,this.state.context,HtmlParser.Text),this.state.context=HtmlParser.Text,this.state.quote=null,this.state.buffer="";else{if(" "===s&&!this.state.buffer)continue;" "===s||"/"===s||"?"===s?this.state.buffer="":'"'===s||"'"===s||"="===s?(e?.(t,l,this.state.context,HtmlParser.Xt),this.state.context=HtmlParser.Xt,this.state.quote="="===s?null:s,this.state.buffer=""):this.state.buffer+=s}break;case HtmlParser.Xt:this.state.quote||this.state.buffer.length||'"'!==s&&"'"!==s?s===this.state.quote||!this.state.quote&&this.state.buffer.length?(e?.(t,l,this.state.context,HtmlParser.qt),this.state.context=HtmlParser.qt,this.state.quote=null,this.state.buffer=""):this.state.quote||">"!==s?" "!==s&&(this.state.buffer+=s):(e?.(t,l+1,this.state.context,HtmlParser.Text),this.state.context=HtmlParser.Text,this.state.quote=null,this.state.buffer=""):this.state.quote=s}}return e?.(t,t.length,this.state.context,null),this.state.context}}HtmlParser.Xt="Attribute",HtmlParser.Text="Text",HtmlParser.qt="Tag";class Shell{fragment;Yt=[];Qt=[];scripts=[];te=[];ee=[];constructor(t=null){if(!t)return;if(1===t.length&&!t[0].match(/[<&]/))return void(this.fragment=document.createTextNode(t[0]));let e,l=Shell.le(t),s=document.createElement("template");l?s.innerHTML=l:s.content.append(document.createTextNode("")),this.fragment=s.content;let i=[],r=0;const o=document.createTreeWalker(this.fragment,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);for(;e=o.nextNode();)if(i.map((t=>t.remove())),i=[],1===e.nodeType)for(let t of[...e.attributes]){let l=t.name.match(/^[\ue000-\uf8ff]$/);if(l)this.Yt.push(new ExprPath(null,e,ExprPathType.bt)),r++,e.removeAttribute(l[0]);else{let l=t.value.split(/[\ue000-\uf8ff]/g);if(l.length>1){let s=2!==l.length||l[0].length||l[1].length?l:null,i=isEvent(t.name)?ExprPathType.Event:ExprPathType.Mt;this.Yt.push(new ExprPath(null,e,i,t.name,s)),r+=l.length-1,e.setAttribute(t.name,l.join(""))}}}else if(8===e.nodeType&&"!✨!"===e.nodeValue){let t,l=e.previousSibling;l||(l=document.createComment("ExprPath:"+this.Yt.length),e.parentNode.insertBefore(l,e)),!e.nextSibling||8===e.nextSibling.nodeType&&"!✨!"===e.nextSibling.textContent?(t=e,t.textContent="ExprPathEnd:"+this.Yt.length):(t=e.nextSibling,i.push(e));let s=new ExprPath(l,t,ExprPathType.dt);this.Yt.push(s),r++}else{if(3===e.nodeType&&"TEXTAREA"===e.parentNode?.tagName&&e.textContent.includes("\x3c!--!✨!--\x3e"))throw Error('Textarea can\'t have expressions inside them. Use <textarea value="${...}"> instead.');if(e.nodeType===Node.COMMENT_NODE){let t=e.textContent.split(/[\ue000-\uf8ff]/g);for(let l=0;t.length-1>l;l++){let t=new ExprPath(e.previousSibling,e);t.type=ExprPathType.Comment,this.Yt.push(t),r++}}else if(e.nodeType===Node.TEXT_NODE&&["SCRIPT","STYLE"].includes(e.parentNode?.nodeName)){let t=e.textContent.split(commentPlaceholder);if(t.length>1){let l=[];for(let s=0;t.length>s;s++){let i=document.createTextNode(t[s]);e.parentNode.insertBefore(i,e),s>0&&l.push(i)}for(let t,e=0;t=l[e];e++){let e=new ExprPath(t.previousSibling,t,ExprPathType.dt);this.Yt.push(e),r++}i.push(e)}}}if(i.map((t=>t.remove())),r!==t.length-1)throw Error("Could not parse expressions in template.  Check for duplicate attributes or malformed html: "+t.join("${...}"));for(let t of this.fragment.querySelectorAll("[is]"))t.setAttribute("_is",t.getAttribute("is"));for(let t of this.Yt)t.st&&(t.nt=[].indexOf.call(t.st.parentNode.childNodes,t.st)),t.ht=getNodePath(t.it),t.type===ExprPathType.Mt&&1===t.it.nodeType&&(t.it.tagName.includes("-")||t.it.hasAttribute("is"))&&(t.type=ExprPathType.jt);this.se()}static le(t){let e=[];function l(t,l){l===HtmlParser.qt&&(t=t.replace(/^<\/?[a-z][a-z0-9]*-[a-z0-9-]+/i,(t=>t+"-solarite-placeholder"))),e.push(t)}let s=new HtmlParser;for(let i=0;t.length>i;i++){let r=0,o=s.parse(t[i],((t,e,s,i)=>{r!==e&&l(t.slice(r,e),s),r=e}));t.length-1>i&&e.push(o===HtmlParser.Text?commentPlaceholder:String.fromCharCode(attribPlaceholder+i))}return e.join("")}se(){this.scripts=[].map.call(this.fragment.querySelectorAll("scripts"),(t=>getNodePath(t))),this.te=[].map.call(this.fragment.querySelectorAll("style"),(t=>getNodePath(t)));let t=this.fragment.querySelectorAll("[id],[data-id]");for(let e of t){let t=e.getAttribute("data-id")||e.getAttribute("id");if(Globals$1.div.hasOwnProperty(t))throw Error(`<${e.tagName.toLowerCase()} id="${t}"> can't override existing HTMLElement id property.`)}this.Qt=[].map.call(t,(t=>getNodePath(t)));for(let t of this.fragment.querySelectorAll("*"))(t.tagName.includes("-")||t.hasAttribute("_is"))&&(this.Yt.find((e=>e.it===t))||this.ee.push(getNodePath(t)))}static get(t){let e=Globals$1.T.get(t);return e||(e=new Shell(t),Globals$1.T.set(t,e)),e}}const commentPlaceholder="\x3c!--!✨!--\x3e",attribPlaceholder=57344;class NodeGroup{$t;wt;St;ie;Yt=[];Wt;Bt;ot;te;constructor(t,e=null){if(!(this instanceof RootNodeGroup)){let[l,s]=this.init(t,e);if(l&&t.Lt.length){this.re(l,s.Yt);let e=this.oe(l,s);this.ae(l,s),this.zt(t.Lt),this.ne(e)}else s&&this.ae(l,s)}}init(t,e=null,l=null,s=null){if(this.Wt=l||t.Ft(),this.Bt=s||t.Jt(),this.wt=e,this.$t=e?.rt?.$t||this,this.he=t,t.fe=this,this instanceof RootNodeGroup||t.Lt.length||t.ue[0].includes("<")){let e=Shell.get(t.ue),l=e.fragment.cloneNode(!0);if(l instanceof DocumentFragment){let t=l.childNodes;this.St=t[0],this.ie=t[t.length-1]}else this.St=this.ie=l;return[l,e]}{let e=document.createTextNode(t.ue[0]);return this.St=this.ie=e,[]}}zt(t,e=null){let l,s=t.length-1,i=Array((e=e||this.Yt).length);for(let r,o=e.length-1;r=e[o];o--){let a=e[o-1],n=e[o+1];if(r.et?.length>2?(i[o]=t.slice(s-(r.et.length-1)+1,s+1),s-=i[o].length):(i[o]=[t[s]],s--),r.it!==this.$t.root&&r._t()){if(n&&n._t()&&n.it===r.it||(l=o),!a||!a._t()||a.it!==r.it){let t={};for(let s=o;l>=s;s++)t[e[s].attrName]=i[s].length>1?i[s].join(""):i[s][0];this.ce(r.it,t);for(let t=o;l>=t;t++)e[t].apply(i[t])}}else r.apply(i[o])}this.de(),this.ot=null}ce(t,e){let l=getObjectHash(e),s=t.tagName.endsWith("-SOLARITE-PLACEHOLDER"),i=t.hasAttribute("_is");if(s||i)t=this.pe(t,s,e);else if(t.D&&Globals$1.o.get(t)!==l){let l={};for(let t in e||{})l[Util.H(t)]=e[t];t.D(l)}Globals$1.o.set(t,l)}pe(t,e=void 0,l=void 0){void 0===e&&(e=!t.hasAttribute("_is"));let s=(e?t.tagName.slice(0,-21):t.getAttribute("is")).toLowerCase(),i=customElements.get(s);if(!i)throw Error(`The custom tag name ${s} is not registered.`);let r={};for(let t in l||{})r[Util.H(t)]=l[t];if(t.attributes.length)for(let e of t.attributes){let t=Util.H(e.name);r.hasOwnProperty(t)||(r[t]=e.value)}let o=new i(r,[...t.childNodes].filter((t=>t.nodeType!==Node.COMMENT_NODE||!t.nodeValue.startsWith("ExprPath"))));e||o.setAttribute("is",t.getAttribute("is").toLowerCase()),t.replaceWith(o);let a=t.getAttribute("data-id")||t.getAttribute("id");a&&delve(this.getRootNode(),a.split(/\./g),o);for(let e of this.Yt)e.it===t&&(e.it=o),e.st===t&&(e.st=o);this.St===t&&(this.St=o),this.ie===t&&(this.ie=o),o._&&o._();for(let e of t.attributes)"_is"!==e.name&&o.setAttribute(e.name,e.value);for(let t in l){let e=l[t];"boolean"==typeof e?!1!==e&&null!=e&&o.setAttribute(t,""):["number","bigint","string"].includes(typeof e)&&o.setAttribute(t,e)}return o}Gt(){let t=this.ot;if(t)return t;t=[];let e=this.St,l=this.ie?.nextSibling;for(;e&&e!==l;)t.push(e),e=e.nextSibling;return this.ot=t,t}It(){return this.St?.parentNode}getRootNode(){return this.$t.root}me(){return this.$t}Ot(){let t=document.createDocumentFragment();for(let e of this.Gt())t.append(e)}re(t,e,l){let s=e.length;this.Yt.length=s;for(let i=0;s>i;i++){let s=e[i].clone(t,l);s.rt=this,this.Yt[i]=s}}de(){if(this.te)for(let[t,e]of this.te)e!==t.textContent&&Util.A(t,this.me().root)}oe(t,e,l=0){let s=[];for(let i of e.ee){l&&(i=i.slice(0,-l));let e=resolveNodePath(t,i);t!==e&&s.push(e)}return s}ne(t){for(let e of t)this.pe(e)}ae(root,shell,pathOffset=0){let rootEl=this.$t.root;if(rootEl){let options=this.$t.options;if(!1!==options?.Qt)for(let t of shell.Qt){pathOffset&&(t=t.slice(0,-pathOffset));let e=resolveNodePath(root,t);Util.G(rootEl,e)}if(!1!==options?.te){shell.te.length&&(this.te=new Map);for(let t of shell.te){pathOffset&&(t=t.slice(0,-pathOffset));let e=resolveNodePath(root,t);1===rootEl.nodeType&&(Util.A(e,rootEl),this.te.set(e,e.textContent))}}if(!1!==options?.scripts)for(let path of shell.scripts){pathOffset&&(path=path.slice(0,-pathOffset));let script=resolveNodePath(root,path);eval(script.textContent)}}}}class RootNodeGroup extends NodeGroup{root;be=new Map;constructor(t,e,l){super(t),this.options=l,this.$t=this;let[s,i]=this.init(t);if(s instanceof Text)e&&(this.St=e,this.ie=e,s.nodeValue.length&&e.append(s),this.root=e),Globals$1.v.set(this.root,this);else{let l=0,r=s;if(e){let t;if(Globals$1.v.set(e,this),e.childNodes.length&&(t=document.createDocumentFragment(),t.append(...e.childNodes)),this.root=e,isReplaceEl(s,e)){e.append(...s.children[0].childNodes);for(let t of s.children[0].attributes)e.hasAttribute(t.name)||e.setAttribute(t.name,t.value);l=1}else 1===s.childNodes.length&&3===s.childNodes[0].nodeType&&""===s.childNodes[0].textContent||e.append(...s.childNodes);if(t){for(let l of e.querySelectorAll("slot[name]")){let e=l.getAttribute("name");if(e){let s=t.querySelectorAll(`[slot='${e}']`);l.append(...s)}}let l=e.querySelector("slot:not([name])");l?l.append(t):e.append(t)}r=e,this.St=e,this.ie=e}else{let t=getSingleEl(s);this.root=t||s,Globals$1.v.set(this.root,this),t&&(r=t,l=1)}this.re(r,i.Yt,l);let o=this.oe(r,i,l);this.ae(r,i,l),this.zt(t.Lt),this.ne(o)}}}function getSingleEl(t){let e=[];for(let l of t.childNodes)if(1===l.nodeType||3===l.nodeType&&l.textContent.trim().length){if(e.length)return null;e.push(l)}return e[0]}function isReplaceEl(t,e){return 1===t.children.length&&e.tagName.includes("-")&&t.children[0].tagName.replace("-SOLARITE-PLACEHOLDER","")===e.tagName}class Template{Lt=[];ue=[];ye;fe;constructor(t,e){this.ue=t,this.Lt=e}toJSON(){return this.ye||(this.ye=[getObjectId(this.ue),this.Lt]),this.ye}D(t=null,e={}){let l,s=!1;if(t){if(l=Globals$1.v.get(t),l||(l=new RootNodeGroup(this,t,e),Globals$1.v.set(t,l),s=!0),0===l.Yt.length&&this.Lt.length||l.Yt.length>this.Lt.length)throw Error(`Solarite Error:  Parent HTMLElement ${l.he.ue.join("${...}")} and ${l.Yt.length} \${value} placeholders can't accomodate a Template with ${this.Lt.length} values.`)}else l=new RootNodeGroup(this,null,e),t=l.getRootNode(),Globals$1.v.set(t,l),s=!0;return s||(1!==this.ue?.length||this.ue[0]?l.zt(this.Lt):t.innerHTML=""),l.be=new Map,t}Ft(){return this.Wt||(this.Wt=this.Lt.length?getObjectHash(this):this.ue[0]),this.Wt}Jt(){return this.Bt||(this.Bt=this.Lt.length?this.toJSON()[0]:this.ue[0]),this.Bt}}function h(t=void 0,...e){if(!(t instanceof Node)){if(Array.isArray(t))return new Template(t,e);if("string"==typeof t||t instanceof String){if("object"==typeof e[0]){e.slice(1);let t=[],l=[];return assert(t.length===l.length+1),new Template(t,l)}t.match(/^\s^</)&&(t=t.trim());let l=document.createElement("template");l.innerHTML=t;let s=Util.F(l.content.childNodes);return 1===s.length?s[0]:l.content}if(void 0===t)return(t,...e)=>h(t,...e).D();if(t instanceof Template)return t.D();if("object"==typeof t){let e=t;if("Object"!==e.constructor.name)throw Error(`Solarate Web Component class ${e.constructor?.name} must extend HTMLElement.`);if(Globals$1.$.has(e))return((...t)=>{let l=h(...t).D();Globals$1.$.set(e,l)}).bind(e);{Globals$1.$.set(e,null),e[renderF]();let t=Globals$1.$.get(e);Globals$1.$.delete(e);for(let l in e)t[l]="function"==typeof e[l]?e[l].bind(t):e[l];return t}}throw Error("Unsupported arguments.")}{let l=t,s=e[0];if(!(e[0]instanceof Template)){l.shadowRoot&&(l.innerHTML="");let t=e[0],s=(e,...s)=>(Globals$1.P.add(l),new Template(e,s).D(l,t));return s}if(!(e[0]instanceof Template))throw Error("unsupported");s.D(l,e[1]),!l.childNodes.length&&this&&l.append(this.$t.It())}}let renderF="render";function getArg(el,attributeName,defaultValue=void 0,type=ArgType.String,fallback=void 0){let val=defaultValue,attrVal=el.getAttribute(attributeName)||el.getAttribute(Util.O(attributeName)),result;if(null!==attrVal&&(val=attrVal),Array.isArray(type))return type.includes(val)?val:fallback;if("function"==typeof type)return type(val);if(type===ArgType.ge){let t="string"==typeof val?val.toLowerCase():val;return!["false","0",!1,0,null,void 0,NaN].includes(t)&&(!(!["true",!0].includes(t)&&0===parseFloat(t))||fallback)}switch(type){case ArgType.ve:return result=parseInt(val),isNaN(result)?fallback:result;case ArgType.$e:return result=parseFloat(val),isNaN(result)?fallback:result;case ArgType.String:return[void 0,null,!1].includes(val)?"":val+"";case ArgType.Ee:case ArgType.Pe:if("string"!=typeof val||!val.length)return val;try{return type===ArgType.Ee?JSON.parse(val):eval(`(${val})`)}catch(t){return val}default:return val}}var ArgType={ge:"Bool",ve:"Int",$e:"Float",String:"String",JSON:"Json",Ee:"Json",Pe:"Eval"};let Solarite=new Proxy(createSolarite(),{apply:(t,e,l)=>createSolarite(...l)}),getInputValue=Util.k;export default h;export{ArgType,Globals$1 as Globals,Solarite,Util as SolariteUtil,Template,delve,getArg,getInputValue,h,h as r};